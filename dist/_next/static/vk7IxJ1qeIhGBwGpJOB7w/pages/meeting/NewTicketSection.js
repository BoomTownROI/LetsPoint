(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"2YOs":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/meeting/NewTicketSection",function(){var e=a("cdJb");return{page:e.default||e}}])},"6B+P":function(e,t,a){"use strict";a.d(t,"a",function(){return s});var r=a("hDBU"),n=a("mXGw"),i=a.n(n),c=a("vPok"),l=i.a.createContext(null);function s(e){var t=i.a.useState(null),a=Object(r.default)(t,2),n=a[0],s=a[1];return i.a.useEffect(function(){return c.a.onProfile(function(e){return s(e)})},[]),i.a.createElement(l.Provider,{value:n,children:e.children})}t.b=l},A0oO:function(e,t,a){"use strict";a.r(t);var r=a("UrUy"),n=a.n(r),i=a("R3/3"),c=a("hDBU"),l=a("mXGw"),s=a.n(l),u=/((?<!([A-Z]{1,10})-?)[A-Z]+-\d+)/;var o=a("L2VZ"),m=a("pG0O"),d=a("zprC"),f=a("DZwE"),b=a("ELYA"),p=a("6B+P");t.default=function(e){var t=e.onSubmit,a=s.a.useContext(p.b),r=s.a.useState(""),l=Object(c.default)(r,2),v=l[0],E=l[1],h=s.a.useState(""),w=Object(c.default)(h,2),g=w[0],k=w[1],N=s.a.useState(!1),O=Object(c.default)(N,2),j=O[0],y=O[1],C=(S=Object(i.default)(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v,n=void 0,n=u.exec(r),null!==(a=null==n?null:n[0])){e.next=4;break}return k("The Jira Key entered was not valid."),e.abrupt("return");case 4:return y(!0),e.prev=5,e.next=8,t(a);case 8:E(""),k(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),k(e.t0.message);case 15:y(!1);case 16:case"end":return e.stop()}var r,n},e,null,[[5,12]])})),function(){return S.apply(this,arguments)});var S;return null===a?s.a.createElement("div",{className:"text-center text-teal-7"},s.a.createElement(o.e,{className:"animate-spin w-6 h-6"})):a.hasCreds?s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),C()},autoComplete:"off"},g&&s.a.createElement(b.a,{className:"mb-6"},g),s.a.createElement("div",{className:"mb-6"},s.a.createElement(m.a,{"data-lpignore":"true",id:"jira-tid",label:"Jira Ticket Key",value:v,onChange:function(e){k(""),E(e.target.value)},required:!0}),s.a.createElement("div",{className:"mb-3"},s.a.createElement("p",{className:"text-sm text-grey-7 italic"},"ie. AWK-1234 or the URL to the ticket"))),s.a.createElement(d.a,{type:"submit",disabled:j},j?s.a.createElement(o.e,{className:"animate-spin w-5 h-5 mr-2"}):s.a.createElement(o.g,{className:"w-5 h-5 mr-2"}),"Import from Jira")):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"mb-3 leading-normal"},"Please enter your Jira credentials below to start importing tickets."),s.a.createElement(f.a,null),s.a.createElement("div",{className:"mb-6"}),s.a.createElement("p",{className:"mb-3 leading-tight text-sm"},"Credentials are stored in a write only database for your security. These credentials are only transmitted directly to the Jira server over an https connection."))}},DZwE:function(e,t,a){"use strict";var r=a("azxR"),n=a("Rbzu"),i=a("hDBU");var c=a("mXGw"),l=a.n(c),s=a("vPok"),u=a("pG0O"),o=a("zprC"),m=a("ELYA");t.a=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=l.a.useState({url:"",username:"",password:""}),a=Object(i.default)(t,2),c=a[0],d=a[1],f=l.a.useState(!1),b=Object(i.default)(f,2),p=b[0],v=b[1],E=l.a.useState(""),h=Object(i.default)(E,2),w=h[0],g=h[1],k=l.a.useState(""),N=Object(i.default)(k,2),O=N[0],j=N[1],y=function(e){e.persist(),d(function(t){return Object(n.a)({},t,Object(r.a)({},e.target.name,e.target.value))})};return l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t,a="https"!==(t=c.url).substr(0,"https".length)?"URL must start with https":"/"===t.substr(-1,1)?"No trailing slashes":"";a?g(a):(v(!0),s.a.createCredentials(c).then(function(){v(!1),d({url:"",username:"",password:""})},function(e){v(!1),"permission-denied"===e.code?j("Error: Missing or insufficient permissions."):(console.error(e),j("Error: Something went wrong."))}))},method:"POST"},O&&l.a.createElement(m.a,{className:"mb-3"},O),l.a.createElement("div",{className:"mb-6"},l.a.createElement(u.a,{type:"url",id:"url",label:"Jira URL",value:c.url,onChange:y,required:!0}),l.a.createElement("div",{className:"mb-3"},l.a.createElement("p",{className:"text-sm text-grey-7 italic"},"ie. https://jira.company.com"),w&&l.a.createElement(m.a,null,w)),l.a.createElement(u.a,{type:"string",id:"username",label:"Jira Username",value:c.username,onChange:y,required:!0}),l.a.createElement(u.a,{type:"password",id:"password",label:"Jira Password",value:c.password,onChange:y,required:!0})),l.a.createElement(o.a,{type:"submit",disabled:p},"Store Credentials"))}},ELYA:function(e,t,a){"use strict";var r=a("z3IF"),n=a("2Fjn"),i=a("mXGw"),c=a.n(i),l=a("8Jek"),s=a.n(l);t.a=function(e){var t=e.className,a=Object(n.a)(e,["className"]);return c.a.createElement("div",Object(r.a)({className:s()(t,"text-red-9 bg-red-2 border-red-6 border-b border-t p-3")},a))}},cdJb:function(e,t,a){"use strict";a.r(t);var r=a("hDBU"),n=a("mXGw"),i=a.n(n),c=a("8Jek"),l=a.n(c),s=a("vPok"),u=a("clzX"),o=a("A0oO"),m=a("zprC"),d=a("L2VZ");t.default=function(e){var t=e.mid,a=e.className,n=i.a.useState("form"),c=Object(r.default)(n,2),l=c[0],b=c[1];return i.a.createElement("section",{className:a},i.a.createElement("div",{className:"flex items-baseline mb-3"},i.a.createElement("h1",{className:"text-lg mr-2"},"Add a ticket: "),i.a.createElement(f,{isActive:"form"===l,onClick:function(){return b("form")}},"Form"),i.a.createElement(f,{isActive:"jira-tid"===l,onClick:function(){return b("jira-tid")}},"Jira")),"form"===l&&i.a.createElement(u.default,{onSubmit:function(e,a){var r=a.resetForm;return s.a.createTicket(t,e).then(function(){r()})},formButtons:i.a.createElement(m.a,{type:"submit"},i.a.createElement(d.g,{className:"w-5 h-5 mr-2"}),"Add Ticket")}),"jira-tid"===l&&i.a.createElement(o.default,{onSubmit:function(e){return s.a.importTicketFromJiraTID(t,e)}}))};var f=function(e){var t=e.isActive,a=e.children,r=e.onClick;return i.a.createElement("button",{className:l()({"px-6 py-2 border-b-2":!0,"border-violet-5 cursor-default":t,"border-transparent hover:border-violet-5":!t}),type:"button",onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return!t&&r()})},a)}},clzX:function(e,t,a){"use strict";a.r(t);var r=a("azxR"),n=a("Rbzu"),i=a("hDBU"),c=a("mXGw"),l=a.n(c),s=a("pG0O");t.default=function(e){var t=e.formButtons,a=e.onSubmit,c=e.ticket,u={title:"",link:"",description:"",source:"form"},o=c||u,m=l.a.useState(o),d=Object(i.default)(m,2),f=d[0],b=d[1],p=function(e){e.persist(),b(function(t){return Object(n.a)({},t,Object(r.a)({},e.target.name,e.target.value))})};return l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==f.title.trim()&&a(f,{resetForm:function(){return b(u)}})},autoComplete:"off"},l.a.createElement("div",{className:"mb-6"},l.a.createElement(s.a,{id:"ticket__title",name:"title",label:"Title",value:f.title,onChange:p,required:!0}),l.a.createElement(s.a,{id:"ticket__link",name:"link",label:"Link",value:f.link,onChange:p,type:"url"}),l.a.createElement(s.a,{id:"ticket__description",name:"description",label:"Description",value:f.description,onChange:p})),t)}},zprC:function(e,t,a){"use strict";var r=a("z3IF"),n=a("2Fjn"),i=a("mXGw"),c=a.n(i),l=a("8Jek"),s=a.n(l);t.a=function(e){var t=e.className,a=Object(n.a)(e,["className"]);return c.a.createElement("button",Object(r.a)({className:s()("btn btn--violet",t),type:"button"},a))}}},[["2YOs",1,0]]]);